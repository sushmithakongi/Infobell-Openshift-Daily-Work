version: "4"
services:
    app:
        #container_name: myapp
        depends_on:
            - localhost
        restart: always
        build: ./
        ports:
            - "8500:8501"
        
    localhost:
        #container_name: mydb
        image: postgres
        volumes:
            - /private/var/lib/postgresql:/var/lib/postgresql
        ports:
            - 5432:5432
        restart: always
        environment:   
          POSTGRES_USER: postgres
          POSTGRES_PASSWORD: postgress
          POSTGRES_DB: restaurants

# version: "4"
# services:
#     app:
#         build : ./Dockerfile
#         ports:
#             -'8501:8501'
#         enviroment:
#             POSTGRES_USER = 'postgres'
#             POSTGRES_PASSWORD = 'postgress'
#         restart : always
#     db:
#         image: postgres
#         ports:
#             -'5432:5432'
#         enviroment:
#             POSTGRES_USER = 'postgres'
#             POSTGRES_PASSWORD = 'postgress'
#         restart : always
